<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
<p>Команды поиска GREP и FIND</p>
<p>&nbsp;<p>&nbsp;<p>Команда grep/egrep</p>
<p>&nbsp;<p>&nbsp;<p>&quot;фильтрует&quot; строки - оставляя только &quot;подходящие&quot; под шаблон</p>
<p>&nbsp;<p>    egrep шаблон  [ file ... ]</p>
<p>&nbsp;<p>В  шаблон  могут  входить  обыкновенные символы (представляющие</p>
<p>сами себя),  а  также  -  спецсимволы,  выполняющие  служебные</p>
<p>функции шаблона: . * ^ $ [ ]</p>
<p>&nbsp;<p>    .        - любой произвольный символ</p>
<p>    *        - &quot;множитель&quot; (предыдущий символ любое число раз)</p>
<p>    .*       - любая последовательность символов</p>
<p>    ^шаблон  - привязываем шаблон к началу строки</p>
<p>    шаблон$  - привязываем шаблон к концу строки</p>
<p>   [символы] - любой один символ из тех, что стоят в скобках</p>
<p>&nbsp;<p>&nbsp;<p>Вывести всех привелигированных пользователей:</p>
<p>&nbsp;<p>    egrep ':0:0:' /etc/passwd</p>
<p>&nbsp;<p>Вывести всех непривелигированных пользователей:</p>
<p>&nbsp;<p>    egrep -v ':0:0:' /etc/passwd</p>
<p>&nbsp;<p>Вывести  всех  пользователей,  имена  которых начинаются с букв</p>
<p>a,b,e,d</p>
<p>&nbsp;<p>    cat /etc/passwd | grep &quot;^[abed].*&quot;</p>
<p>&nbsp;<p>Команда find</p>
<p>&nbsp;<p>&nbsp;<p>find рекурсивно  обходит  указанные каталоги и файлы, проверяет</p>
<p>для них выполнение  указанных  условий  и может вдобавок выпол-</p>
<p>нять с  найденными  файлами  указанные действия. Например, самое</p>
<p>простое действие - распечатать имя файла.</p>
<p>&nbsp;<p>    find   файл [ ... ]   ключи/условия/действия</p>
<p>&nbsp;<p>        Ключи-условия команды find:</p>
<p>&nbsp;<p>  -name &quot;*.c&quot; - простое имя подходит под шаблон *.c</p>
<p>  -type f     - брать только обыкновенные файлы</p>
<p>  -type d     - брать только каталоги</p>
<p>  -size +500  - файлы размером БОЛЬШЕ 500*512 байт</p>
<p>  -mtime -3   - дата модификации МЕНЬШЕ 3-х дней</p>
<p>  -newer  filename - дата модификации нашего файла МЕНЬШЕ, чем у</p>
<p>                     заданного файла filename</p>
<p>&nbsp;<p>ВНИМАНИЕ:  Команда  find  использует  стандартные  SHELL'овские</p>
<p>шаблоны.  Команда  grep  использует  шаблоны  другого  формата,</p>
<p>называемые регулярными выражениями.</p>
<p>&nbsp;<p>        Ключи-действия команды find</p>
<p>&nbsp;<p>  -print      - просто распечатать маршрутное имя файла</p>
<p>  -exec команда над файлом {} \;</p>
<p>&nbsp;<p>        Пример.</p>
<p>&nbsp;<p>Напечатать имена всех обыкновенных Си-шных файлов, изменившихся</p>
<p>за последние 4 дня в текущем каталоге и его подкаталогах.</p>
<p>&nbsp;<p>    find . -type f -mtime -4 -print</p>
<p>&nbsp;<p>Уничтожить  все  файлы с окончаниями *.bu, *%, которые не меня-</p>
<p>лись больше месяца.</p>
<p>&nbsp;<p>    find   / \( -name &quot;*.bu&quot; -o -name &quot;*%&quot; \) -type f    \</p>
<p>    -atime +30 -exec  rm  {} \;</p>
<p>&nbsp;<p>запись &quot;rm {} \;&quot;  - обозначает команду Unix, которая будет вы-</p>
<p>полняться для всех  таких  найденных файлов. Вместо значка &quot;{}&quot;</p>
<p>будет подставляться каждый раз имя найденного файла. Естествен-</p>
<p>но, что таким образом мы их все и уничтожим. </p>

</p></body></html>
