<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Kernel </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> egrep -i 'l2tp|ppp' .config</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_L2TP=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"># CONFIG_L2TP_DEBUGFS is not set</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_L2TP_V3=y</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_L2TP_IP=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_L2TP_ETH=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPP=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPP_BSDCOMP=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPP_DEFLATE=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPP_FILTER=y</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPP_MPPE=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"># CONFIG_PPP_MULTILINK is not set</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPPOE=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPPOL2TP=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">CONFIG_PPP_ASYNC=m</p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"># CONFIG_PPP_SYNC_TTY is not set</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">emerge -av  net-dialup/ppp net-dialup/xl2tpd</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-weight:600; color:#cccccc; background-color:#333333;">/etc/xl2tpd/xl2tpd.conf:</span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px; line-height:18.48px; background-color:#333333;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc;">[global]<br />access control = yes<br /><br />[lac provider]<br />lns = &lt;authorization_server&gt;<br />redial = yes<br />redial timeout = 10<br />require chap = yes<br />require authentication = no<br />name = &lt;your_login&gt;<br />ppp debug = yes<br />pppoptfile = /etc/ppp/options.l2tp<br />require pap = no<br />autodial = yes</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-weight:600; color:#cccccc; background-color:#333333;">/etc/ppp/options.l2tp:</span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px; line-height:18.48px; background-color:#333333;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc;">name &lt;your_login&gt;<br />remotename l2tp<br />ipparam provider<br />connect /bin/true<br />nodeflate<br />nobsdcomp<br />persist<br />maxfail 0<br />nopcomp<br />noaccomp<br />mru 1460<br />mtu 1460</span></p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-weight:600; color:#cccccc; background-color:#333333;"> /etc/ppp/chap-secrets:</span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;"> </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px; line-height:18.48px; background-color:#333333;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc;">&lt;your_login &gt;* &lt;your_password</span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-weight:600; color:#cccccc;">&gt;</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">add to /etc/ppp/ip-up</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ip rout add &lt;your_net&gt;/&lt;&gt; via &lt;your_gateway&gt; dev $1</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">add to /etc/ppp/ip-down</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ip rout del &lt;your_net&gt;/&lt;&gt; via &lt;your_gateway&gt; dev $1</p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;">/etc/init.d/xl2tpd start</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px; line-height:18.48px;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;">Let's add </span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-weight:600; color:#cccccc; background-color:#333333;">xl2tpd</span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;"> to default runlevel, using </span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; font-weight:600; color:#cccccc; background-color:#333333;">rc-update</span><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;">: </span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:40px; margin-right:40px; -qt-block-indent:0; text-indent:0px; line-height:18.48px; background-color:#333333;"><span style=" font-family:'Arial,Tahoma,Helvetica,FreeSans,sans-serif'; color:#cccccc; background-color:#333333;">$ sudo rc-update add xl2tpd default</span></p>
<p style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"> </p>
<p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><br /></p></body></html>