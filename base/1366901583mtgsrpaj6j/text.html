<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">
<html><head><meta name="qrichtext" content="1" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><style type="text/css">
p, li { white-space: pre-wrap; }
</style></head><body style=" font-family:'DejaVu Sans'; font-size:10pt; font-weight:400; font-style:normal;">
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><a href="http://www.virtualbox.org/manual/ch02.html#idp11380976"><span style=" font-family:'Sans Serif'; font-weight:600; text-decoration: underline; color:#0000ff;">Using the alternative installer (VirtualBox.run)</span></a></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:9pt;">The alternative installer performs the following steps:</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It unpacks the application files to the target directory, </li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">/opt/VirtualBox/</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">which cannot be changed.</span></p>
<ul style="margin-top: 0px; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; -qt-list-indent: 1;"><li style=" margin-top:12px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It builds the VirtualBox kernel modules (<span style=" font-family:'Courier New,courier';">vboxdrv</span><span style=" font-family:'Sa ns Serif';">, </span><span style=" font-family:'Courier New,courier';">vboxnetflt</span><span style=" font-family:'Sans Serif';"> and </span><span style=" font-family:'Courier New,courier';">vboxnetadp</span><span style=" font-family:'Sans Serif';">) and installs them.</span></li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It creates <span style=" font-family:'Courier New,courier';">/etc/init.d/vboxdrv</span><span style=" font-family:'Sans Serif';">, an init script to start the VirtualBox kernel module.</span></li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It creates a new system group called <span style=" font-family:'Courier New,courier';">vboxusers</span><span style=" font-family:'Sans Serif';">.</span></li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It creates symbolic links in <span style=" font-family:'Courier New,courier';">/usr/bin</span><span style=" font-family:'Sans Serif';"> to the a shell script (</span><span style=" font-family:'Courier New,courier';">/opt/VirtualBox/VBox</span><span style=" font-family:'San s Serif';">) which does some sanity checks and dispatches to the actual executables, </span><span style=" font-family:'Courier New,couri er';">VirtualBox</span><span style=" font-family:'Sans Serif';">, </span><span style=" font-family:'Courier New,courier';">VBoxSDL</span><span style=" font-family:'Sans Serif';">, </span><span style=" font-family:'Courier New,courier';">VBoxVRDP</span><span style=" font-family:'Sa ns Serif';">, </span><span style=" font-family:'Courier New,courier';">VBoxHeadless</span><span style=" font-family:'Sans Serif';"> and </span><span style=" font-family:'Courier New,courier';">VBoxManage</span></li>
<li style=" margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">It creates </span><span style=" font-family:'Courier New,courier';">/etc/udev/rules.d/10-vboxdrv.rules</span><span style=" font-family:'Sans Serif';">, a description file for udev, if that is present, which makes the USB devices accessible to all users in the </span><span style=" font-family:'Courier New,courier';">vboxusers</span><span style=" font-family:'Sans Ser if';"> group.</span></li>
<li style=" margin-top:0px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">It writes the installation directory to <span style=" font-family:'Courier New,courier';">/etc/vbox/vbox.cfg</span>.</li></ul>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">The installer must be executed as root with either <span style=" font-family:'Courier New,courier';">install</span> or <span style=" font-family:'Courier New,courier';">uninstall</span><span style=" font-family:'Sans Serif';"> as the first parameter.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sudo ./VirtualBox.run install</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">Or if you do not have the &quot;sudo&quot; command available, run the following as root instead:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">./VirtualBox.run install</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">After that you need to put every user which should be able to access USB devices from VirtualBox guests in the group </span><span style=" font-family:'Courier New,courier';">vboxusers</span><span style=" font-family:'Sans Serif';">, either through the GUI user management tools or by running the following command as root:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sudo usermod -a -G vboxusers username</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif'; font-size:13pt; font-weight:600;">Note</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-size:9pt;">The </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">usermod</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> command of some older Linux distributions does not support the </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">-a</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> option (which adds the user to the given group without affecting membership of other groups). In this case, find out the current group memberships with the </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">groups</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> command and add all these groups in a comma-separated list to the command line after the </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">-G</span><span style=" font-family:'Sans Serif'; font-size:9pt;"> option, e.g. like this: </span><span style=" font-family:'Courier New,courier'; font-size:9pt;">usermod -G group1,group2,vboxusers username</span><span style=" font-family:'Sans Serif'; font-size:9pt;">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-weight:600;">Performing a manual installation</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">If, for any reason, you cannot use the shell script installer described previously, you can also perform a manual installation. Invoke the installer like this:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">./VirtualBox.run --keep --noexec</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">This will unpack all the files needed for installation in the directory </span><span style=" font-family:'Courier New,courier';">install</span><span style=" font-family:'Sans Serif';"> under the current directory. The VirtualBox application files are contained in </span><span style=" font-family:'Courier New,courier';">VirtualBox.tar.bz2</span><span style=" font-family:'Sans Serif';"> which you can unpack to any directory on your system. For example:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sudo mkdir /opt/VirtualBox</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">sudo tar jxf ./install/VirtualBox.tar.bz2 -C /opt/VirtualBox</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">or as root:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">mkdir /opt/VirtualBox</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">tar jxf ./install/VirtualBox.tar.bz2 -C /opt/VirtualBox</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">The sources for VirtualBox's kernel module are provided in the </span><span style=" font-family:'Courier New,courier';">src</span><span style=" font-family:'Sans Serif';"> directory. To build the module, change to the directory and issue</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">make</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">If everything builds correctly, issue the following command to install the module to the appropriate module directory:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">sudo make install</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">In case you do not have sudo, switch the user account to root and perform</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">make install</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">The VirtualBox kernel module needs a device node to operate. The above make command will tell you how to create the device node, depending on your Linux system. The procedure is slightly different for a classical Linux setup with a </span><span style=" font-family:'Courier New,courier';">/dev</span><span style=" font-family:'Sans Serif';"> directory, a system with the now deprecated </span><span style=" font-family:'Courier New,courier';">devfs</span><span style=" font-family:'Sans Serif';"> and a modern Linux system with </span><span style=" font-family:'Courier New,courier';">udev</span><span style=" font-family:'Sans Serif';">.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">On certain Linux distributions, you might experience difficulties building the module. You will have to analyze the error messages from the build system to diagnose the cause of the problems. In general, make sure that the correct Linux kernel sources are used for the build process.</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Note that the <span style=" font-family:'Courier New,courier';">/dev/vboxdrv</span><span style=" font-family:'Sans Serif';"> kernel module device node must be owned by root:root and must be read/writable only for the user.</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">Next, you will have to install the system initialization script for the kernel module:</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">cp /opt/VirtualBox/vboxdrv.sh /etc/init.d/vboxdrv</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">(assuming you installed VirtualBox to the </span><span style=" font-family:'Courier New,courier';">/opt/VirtualBox</span><span style=" font-family:'Sans Serif';"> directory) and activate the initialization script using the right method for your distribution. You should create VirtualBox's configuration file:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">mkdir /etc/vbox</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">echo INSTALL_DIR=/opt/VirtualBox &gt; /etc/vbox/vbox.cfg</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';">and, for convenience, create the following symbolic links:</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Courier New,courier';">ln -sf /opt/VirtualBox/VBox.sh /usr/bin/VirtualBox</span></p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ln -sf /opt/VirtualBox/VBox.sh /usr/bin/VBoxManage</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ln -sf /opt/VirtualBox/VBox.sh /usr/bin/VBoxHeadless</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">ln -sf /opt/VirtualBox/VBox.sh /usr/bin/VBoxSDL</p>
<p style=" margin-top:12px; margin-bottom:12px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;"><span style=" font-family:'Sans Serif';"> </span></p></body></html>